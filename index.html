
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–ß–∞–π–Ω–∏–π –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;background:#0f0f0f;color:#f5f5f5;margin:0;padding:24px}
    .container{max-width:700px;margin:0 auto}
    h1,h2{font-weight:500}
    .card{background:#1a1a1a;border-radius:16px;padding:20px;margin-bottom:20px;box-shadow:0 10px 30px rgba(0,0,0,.3)}
    label{display:block;margin-bottom:8px;opacity:.85}
    select,input[type=range],button{width:100%;margin-bottom:12px}
    .micro{font-size:.9em;opacity:.7;margin-bottom:12px}
    .result{font-size:1.2em;margin-top:10px}
    .state{margin-top:12px;font-style:italic;opacity:.8}
  </style>
</head>
<body>
<div class="container">
  <h1>–ß–∞–π–Ω–∏–π –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫</h1>
  <p class="micro">–í—ñ–Ω –Ω–µ –≤—á–∏—Ç—å. –í—ñ–Ω –Ω–∞–ª–∞—à—Ç–æ–≤—É—î.</p>

  <div class="card">
    <label>–°–ø–æ—Å—ñ–± –∑–∞–≤–∞—Ä—é–≤–∞–Ω–Ω—è</label>
    <select id="method">
      <option value="gongfu">–ü—Ä–æ–ª–∏–≤–∞–º–∏ (–ü—ñ–Ω –ß–∞)</option>
      <option value="steep">–ù–∞—Å—Ç–æ—é–≤–∞–Ω–Ω—è</option>
    </select>

    <label>–¢–∏–ø —á–∞—é</label>
    <select id="tea"></select>
    <div class="micro">–û–±–µ—Ä—ñ—Ç—å –ª–∏—Å—Ç ‚Äî –¥–∞–ª—ñ –≤—Å–µ –ø—ñ–¥–ª–∞—à—Ç—É—î—Ç—å—Å—è.</div>

    <div id="ageBlock" style="display:none">
      <label>–†—ñ–∫ —á–∞—é: <span id="ageLabel">2015</span></label>
      <input type="range" id="teaAge" min="1940" max="2026" value="2015" />
      <div class="micro">–ú–æ–ª–æ–¥—à–∏–π ‚Äî —Ä—ñ–∑–∫—ñ—à–∏–π. –°—Ç–∞—Ä—à–∏–π ‚Äî –≥–ª–∏–±—à–∏–π.</div>
    </div>

    <label>–û–± º—î–º –ø–æ—Å—É–¥—É (–º–ª): <span id="volLabel">120</span></label>
    <input type="range" id="volume" min="60" max="500" step="10" value="120" />

    <label>–ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å</label>
    <select id="strength">
      <option value="light">–õ–µ–≥–∫–∞</option>
      <option value="medium" selected>–°–µ—Ä–µ–¥–Ω—è</option>
      <option value="strong">–©—ñ–ª—å–Ω–∞</option>
    </select>
  </div>

  <div class="card">
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
    <div class="result" id="result"></div>
    <div class="state" id="state"></div>
    <button id="startTimer">–ü–æ—á–∞—Ç–∏ –ø—Ä–æ–ª–∏–≤</button>
    <div class="micro" id="timerText"></div>
  </div>

  <div class="card">
    <h2>–ü—Ä–æ —Ü–µ–π —á–∞–π</h2>
    <div id="facts"></div>
  </div>
</div>

<script>
// ---------- DATA ----------
const teaProfiles={
  longjing:{label:'üçÉ Èæô‰∫ï –õ—É–Ω—Ü–∑—ñ–Ω',cat:'green',temp:[75,80],facts:{effect:['—è—Å–Ω–∞ –≥–æ–ª–æ–≤–∞','—Ä—ñ–≤–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è'],note:['—á–∞–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—ñ–≤']}},
  biluochun:{label:'üçÉ Á¢ßËû∫Êò• –ë—ñ –õ–æ –ß—É–Ω—å',cat:'green',temp:[75,80],facts:{effect:['—à–≤–∏–¥–∫–µ –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è'],note:['–¥—É–∂–µ –∞—Ä–æ–º–∞—Ç–Ω–∏–π']}},
  huangshan:{label:'üçÉ ÈªÑÂ±±ÊØõÂ≥∞ –•—É–∞–Ω—à–∞–Ω—å –ú–∞–æ—Ñ–µ–Ω',cat:'green',temp:[75,80],facts:{effect:['–±–∞–ª–∞–Ω—Å'],note:['–Ω–∞ —â–æ–¥–µ–Ω—å']}},
  taiping:{label:'üçÉ Â§™Âπ≥Áå¥È≠Å –¢–∞–π–ø—ñ–Ω –•–æ—É–∫—É–π',cat:'green',temp:[80,85],facts:{effect:['–≥–ª–∏–±–æ–∫–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è'],note:['—á–∞–π –º–æ–≤—á–∞–Ω–Ω—è']}},

  yinzheng:{label:'üå± ÁôΩÊØ´Èì∂Èíà –ë–∞–π –•–∞–æ –Ü–Ω—å –ß–∂–µ–Ω—å',cat:'white',temp:[80,85],facts:{effect:['–≥–ª–∏–±–æ–∫–∏–π —Å–ø–æ–∫—ñ–π'],note:['—á–∞–π —Ç–∏—à—ñ']}},
  mudan:{label:'üå± ÁôΩÁâ°‰∏π –ë–∞–π –ú—É–¥–∞–Ω—å',cat:'white',temp:[80,85],facts:{effect:['–µ–º–æ—Ü—ñ–π–Ω–∞ —Ä—ñ–≤–Ω–æ–≤–∞–≥–∞'],note:['–≤–µ—á—ñ—Ä–Ω—ñ–π']}},
  shoumei:{label:'üå± ÂØøÁúâ –®–æ—É –ú–µ–π',cat:'white',temp:[85,90],facts:{effect:['–∑–∞–∑–µ–º–ª–µ–Ω–Ω—è'],note:['–¥–æ–±—Ä–µ —Å—Ç–∞—Ä—ñ—î']}},

  junshan:{label:'üåº ÂêõÂ±±Èì∂Èíà –¶–∑—é–Ω—å—à–∞–Ω—å –Ü–Ω—å –ß–∂–µ–Ω—å',cat:'yellow',temp:[80,85],facts:{effect:['—Ä—ñ–≤–Ω–∏–π —Å—Ç–∞–Ω'],note:['—ñ–º–ø–µ—Ä–∞—Ç–æ—Ä—Å—å–∫–∏–π']}},
  mengding:{label:'üåº ËíôÈ°∂ÈªÑËäΩ –ú–µ–Ω–¥–∏–Ω –•—É–∞–Ω –Ø',cat:'yellow',temp:[80,85],facts:{effect:['–≥–∞—Ä–º–æ–Ω—ñ—è'],note:['–º–æ–Ω–∞—à–∏–π']}},

  tieguanyin:{label:'üêâ ÈìÅËßÇÈü≥ –¢–µ –ì—É–∞–Ω—å –Ü–Ω—å',cat:'oolong_light',temp:[90,95],facts:{effect:['—Å–æ—Ü—ñ–∞–ª—å–Ω–∞ –º º—è–∫—ñ—Å—Ç—å'],note:['—á–∞–π —Å–µ—Ä—Ü—è']}},
  dahongpao:{label:'üêâ Â§ßÁ∫¢Ë¢ç –î–∞ –•—É–Ω –ü–∞–æ',cat:'oolong_dark',temp:[95,100],facts:{effect:['—Å–∏–ª–∞','—Ñ–æ–∫—É—Å'],note:['—Å–∫–µ–ª—å–Ω–∏–π —á–∞–π']}},
  shuixian:{label:'üêâ Ê∞¥‰ªô –®—É–π –°—è–Ω—å',cat:'oolong_dark',temp:[95,100],facts:{effect:['—Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å'],note:['–±–µ–∑ –ø—ñ–∫—ñ–≤']}},
  rougui:{label:'üêâ ËÇâÊ°Ç –ñ–æ—É –ì—É–π',cat:'oolong_dark',temp:[95,100],facts:{effect:['—Ç–µ–ø–ª–æ','—Ç–æ–Ω—É—Å'],note:['—á–∞–π –¥—ñ—ó']}},
  dancong:{label:'üêâ Âá§Âá∞Âçï‰∏õ –§–µ–Ω—ñ–∫—Å –î–∞–Ω—å –¶—É–Ω',cat:'oolong_light',temp:[90,95],facts:{effect:['–∫—Ä–µ–∞—Ç–∏–≤'],note:['—è—Å–∫—Ä–∞–≤–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä']}},

  qimen:{label:'üî¥ Á•ÅÈó®Á∫¢Ëå∂ –¶—ñ–º–µ–Ω—å –•—É–Ω –ß–∞',cat:'red',temp:[90,95],facts:{effect:['–º º—è–∫–∞ –µ–Ω–µ—Ä–≥—ñ—è'],note:['–∑–∞–º—ñ–Ω–∞ –∫–∞–≤—ñ']}},
  dianhong:{label:'üî¥ ÊªáÁ∫¢ –î—è–Ω—å –•—É–Ω',cat:'red',temp:[90,95],facts:{effect:['—Ç—ñ–ª–µ—Å–Ω–∞ —Å–∏–ª–∞'],note:['—Ä–∞–Ω–∫–æ–≤–∏–π']}},
  lapsang:{label:'üî¥ Ê≠£Â±±Â∞èÁßç –ß–∂–µ–Ω—à–∞–Ω—å –°—è–æ—á–∂—É–Ω',cat:'red',temp:[95,100],facts:{effect:['–∑–∞–∑–µ–º–ª–µ–Ω–Ω—è'],note:['–∫–æ–ø—á–µ–Ω–∏–π']}},

  sheng:{label:'üåë ÁîüÊôÆÊ¥± –®–µ–Ω –ü—É–µ—Ä',cat:'puer_sheng',aging:true,facts:{effect:['—è—Å–Ω—ñ—Å—Ç—å','–æ—á–∏—â–µ–Ω–Ω—è'],note:['–º–æ–∂–µ –≤–¥–∞—Ä–∏—Ç–∏']},tempByAge:a=>a<2005?[95,98]:a<2015?[90,95]:[85,90],gramByAge:a=>a>2015?0.9:a<2005?1.05:1},
  shu:{label:'üåë ÁÜüÊôÆÊ¥± –®—É –ü—É–µ—Ä',cat:'puer_shu',aging:true,facts:{effect:['–∑–∞–∑–µ–º–ª–µ–Ω–Ω—è','—Ç–µ–ø–ª–æ'],note:['–≤–µ—á—ñ—Ä–Ω—ñ–π']},tempByAge:a=>a<2000?[98,100]:a<2015?[95,98]:[95,95],gramByAge:a=>a<2000?1.05:a>2015?0.95:1}
};

// ---------- ELEMENTS ----------
const teaSelect=document.getElementById('tea');
const ageBlock=document.getElementById('ageBlock');
const ageInput=document.getElementById('teaAge');
const ageLabel=document.getElementById('ageLabel');
const volumeInput=document.getElementById('volume');
const volLabel=document.getElementById('volLabel');
const resultEl=document.getElementById('result');
const stateEl=document.getElementById('state');
const timerText=document.getElementById('timerText');
const startBtn=document.getElementById('startTimer');

// ---------- INIT TEA LIST ----------
function populateTea(){
  teaSelect.innerHTML='';
  const groups={
    green:'üçÉ –ó–µ–ª–µ–Ω–∏–π —á–∞–π',white:'üå± –ë—ñ–ª–∏–π —á–∞–π',yellow:'üåº –ñ–æ–≤—Ç–∏–π —á–∞–π',
    oolong_light:'üêâ –£–ª—É–Ω (—Å–≤—ñ—Ç–ª–∏–π)',oolong_dark:'üêâ –£–ª—É–Ω (—Ç–µ–º–Ω–∏–π)',
    red:'üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π —á–∞–π',puer_sheng:'üåë –®–µ–Ω –ü—É–µ—Ä',puer_shu:'üåë –®—É –ü—É–µ—Ä'
  };
  Object.entries(groups).forEach(([cat,label])=>{
    const items=Object.entries(teaProfiles).filter(([_,t])=>t.cat===cat);
    if(!items.length) return;
    const og=document.createElement('optgroup'); og.label=label;
    items.forEach(([k,t])=>{const o=document.createElement('option');o.value=k;o.textContent=t.label;og.appendChild(o);});
    teaSelect.appendChild(og);
  });
}

// ---------- CALC ----------
function calculate(){
  const key=teaSelect.value;
  const t=teaProfiles[key]; if(!t) return;

  let grams=volumeInput.value/18;
  let temp=t.temp;
  let pour=8;

  if(t.aging){
    ageBlock.style.display='block';
    ageLabel.textContent=ageInput.value;
    const a=+ageInput.value;
    grams*=t.gramByAge(a);
    temp=t.tempByAge(a);
    pour=a>2015?5:a>2005?7:10;
  } else ageBlock.style.display='none';

  resultEl.innerHTML=`–ß–∞–π: <strong>${grams.toFixed(1)} –≥</strong><br>–í–æ–¥–∞: <strong>${temp[0]}‚Äì${temp[1]}¬∞C</strong><br>–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –ø—Ä–æ–ª–∏–≤: <strong>${pour} —Å</strong>`;
  stateEl.textContent=t.aging?'–í—ñ–∫ —Ç—É—Ç –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è.':'–°–º–∞–∫ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è.';
  document.getElementById('facts').innerHTML=`<strong>–ï—Ñ–µ–∫—Ç:</strong><ul>${t.facts.effect.map(e=>`<li>${e}</li>`).join('')}</ul><strong>–¶—ñ–∫–∞–≤–µ:</strong><ul>${t.facts.note.map(n=>`<li>${n}</li>`).join('')}</ul>`;

  startBtn.onclick=()=>startTimer(pour);
}

// ---------- TIMER ----------
let timer=null;
function startTimer(sec){
  if(timer) clearInterval(timer);
  let s=sec;
  timerText.textContent='–ü–æ—á–∞–ª–æ—Å—è. –£–≤–∞–≥–∞.';
  timer=setInterval(()=>{
    s--;
    if(s>sec/2) timerText.textContent='–°–º–∞–∫ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è.';
    else if(s>1) timerText.textContent='–©–µ –º–∏—Ç—å.';
    else if(s<=0){ timerText.textContent='–ó–ª–∏–≤–∞–π—Ç–µ.'; clearInterval(timer); }
  },1000);
}

// ---------- EVENTS ----------
volumeInput.oninput=()=>{volLabel.textContent=volumeInput.value;calculate();};
ageInput.oninput=calculate;
teaSelect.onchange=calculate;

populateTea();
calculate();
</script>
</body>
</html>

