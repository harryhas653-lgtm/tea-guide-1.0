<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–ß–∞–π–Ω–∏–π –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0e0e0e;
  --card:#171717;
  --text:#f2f2f2;
  --muted:#9a9a9a;
  --accent:#6bcf9b;
}
*{box-sizing:border-box}
body{
  margin:0;
  padding:32px 16px;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.container{max-width:720px;margin:0 auto}
h1{margin-bottom:4px}
.subtitle{color:var(--muted);margin-bottom:28px}

.card{
  background:linear-gradient(180deg,var(--card),rgba(0,0,0,.25));
  border-radius:20px;
  padding:22px;
  margin-bottom:22px;
}

label{display:block;margin-bottom:8px;color:#ccc}
select,input[type=range],button{
  width:100%;
  margin-bottom:14px;
  background:#0f0f0f;
  color:var(--text);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  padding:10px 12px;
}

.micro{font-size:.9em;color:var(--muted);margin-bottom:12px}
.result{font-size:1.15em;margin-top:8px}
.state{font-style:italic;color:#bbb;margin-top:10px}

.progress{
  height:6px;
  background:#333;
  border-radius:6px;
  overflow:hidden;
  margin-top:8px;
}
.bar{
  height:100%;
  width:0%;
  background:var(--accent);
  transition:width .2s linear;
}
</style>
</head>

<body>
<div class="container">

<h1>–ß–∞–π–Ω–∏–π –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫</h1>
<div class="subtitle">–í—ñ–Ω –Ω–µ –≤—á–∏—Ç—å. –í—ñ–Ω –Ω–∞–ª–∞—à—Ç–æ–≤—É—î.</div>

<div class="card">
<label>–ú–µ—Ç–æ–¥ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è</label>
<select id="method">
  <option value="gongfu">–ü—Ä–æ–ª–∏–≤–∏ (–≥—É–Ω—Ñ—É)</option>
  <option value="steep">–ù–∞—Å—Ç–æ—é–≤–∞–Ω–Ω—è</option>
  <option value="siphon">–°–∏—Ñ–æ–Ω</option>
</select>

<label>–¢–∏–ø —á–∞—é</label>
<select id="tea"></select>
<div class="micro">–û–±–µ—Ä–∏ –ª–∏—Å—Ç ‚Äî —É—Å–µ —ñ–Ω—à–µ –ø—ñ–¥–ª–∞—à—Ç—É—î—Ç—å—Å—è</div>

<label>–û–± º—î–º (–º–ª): <span id="volLabel">120</span></label>
<input type="range" id="volume" min="60" max="500" step="10" value="120">

<label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ª–∏—Å—Ç–∞</label>
<input type="range" id="leaf" min="-1" max="1" step="1" value="0">
<div class="micro" id="leafLabel">–°–µ—Ä–µ–¥–Ω—è</div>
</div>

<div class="card">
<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
<div class="result" id="result"></div>
<div class="state" id="state"></div>
</div>

<div class="card" id="timerCard">
<h2>–ü—Ä–æ–ª–∏–≤–∏</h2>
<div id="pours"></div>
<button id="start">–ü–æ—á–∞—Ç–∏ –ø—Ä–æ–ª–∏–≤</button>
<div class="progress"><div class="bar" id="bar"></div></div>
</div>

<div class="card">
<h2>–ü—Ä–æ —Ü–µ–π —á–∞–π</h2>
<div id="facts" class="micro">–û–ø–∏—Å –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –ø–æ—Å—Ç—É–ø–æ–≤–æ.</div>
</div>

</div>

<script>
const teas={
  longjing:{
    label:'üçÉ Èæô‰∫ï –õ—É–Ω—Ü–∑—ñ–Ω',
    gram:[3,4], temp:[80,85],
    pours:[10,15,20,30,40],
    about:{
      taste:'–ß–∏—Å—Ç–∏–π, –≥–æ—Ä—ñ—Ö–æ–≤–∏–π, —Å—É—Ö–∏–π.',
      state:'–ó–±–∏—Ä–∞—î –≥–æ–ª–æ–≤—É, —Å–ø–æ–∫—ñ–π.'
    }
  },
  biluochun:{
    label:'üçÉ Á¢ßËû∫Êò• –ë—ñ –õ–æ –ß—É–Ω—å',
    gram:[3,4], temp:[75,80],
    pours:[8,12,18,25,35],
    about:{
      taste:'–ê—Ä–æ–º–∞—Ç–Ω–∏–π, –∫–≤—ñ—Ç–∫–æ–≤–∏–π.',
      state:'–õ–µ–≥–∫–µ –ø—ñ–¥–Ω—è—Ç—Ç—è.'
    }
  },
  sheng:{
    label:'üåë ÁîüÊôÆÊ¥± –®–µ–Ω –ü—É–µ—Ä',
    gram:[6,7], temp:[95,100],
    pours:[5,7,10,15,20],
    about:{
      taste:'–°—É—Ö–∏–π, –º—ñ–Ω–µ—Ä–∞–ª—å–Ω–∏–π.',
      state:'–Ø—Å–Ω—ñ—Å—Ç—å, –ø—Ä–æ—Å—Ç—ñ—Ä.'
    }
  },
  shu:{
    label:'üåë ÁÜüÊôÆÊ¥± –®—É –ü—É–µ—Ä',
    gram:[7,8], temp:[100,100],
    pours:[10,12,15,20,30],
    about:{
      taste:'–ì—É—Å—Ç–∏–π, —Ç–µ–ø–ª–∏–π.',
      state:'–ó–∞–∑–µ–º–ª–µ–Ω–Ω—è.'
    }
  }
};

const teaSel=document.getElementById('tea');
const vol=document.getElementById('volume');
const volLabel=document.getElementById('volLabel');
const leaf=document.getElementById('leaf');
const leafLabel=document.getElementById('leafLabel');
const result=document.getElementById('result');
const state=document.getElementById('state');
const poursDiv=document.getElementById('pours');
const bar=document.getElementById('bar');
const startBtn=document.getElementById('start');

Object.entries(teas).forEach(([k,t])=>{
  const o=document.createElement('option');
  o.value=k;o.textContent=t.label;
  teaSel.appendChild(o);
});

function calc(){
  const t=teas[teaSel.value];
  const v=+vol.value;
  volLabel.textContent=v;

  let g=((v/120)*((t.gram[0]+t.gram[1])/2));
  if(leaf.value==1) g*=1.15;
  if(leaf.value==-1) g*=0.85;

  leafLabel.textContent=leaf.value==1?'–ë—ñ–ª—å—à–µ':leaf.value==-1?'–ú–µ–Ω—à–µ':'–°–µ—Ä–µ–¥–Ω—è';

  result.innerHTML=
    `–ß–∞–π: <b>${g.toFixed(1)} –≥</b><br>`+
    `–í–æ–¥–∞: ${t.temp[0]}‚Äì${t.temp[1]}¬∞C`;

  poursDiv.innerHTML=t.pours.map((p,i)=>`<div>${i+1} ‚Üí ${p} —Å–µ–∫</div>`).join('');

  document.getElementById('facts').innerHTML=
    `<b>–°–º–∞–∫:</b> ${t.about.taste}<br><b>–°—Ç–∞–Ω:</b> ${t.about.state}`;
}

let timer=null,elapsed=0,duration=0;
startBtn.onclick=()=>{
  const t=teas[teaSel.value];
  duration=t.pours[0];
  elapsed=0;
  clearInterval(timer);
  timer=setInterval(()=>{
    elapsed++;
    bar.style.width=(elapsed/duration*100)+'%';
    if(elapsed>=duration) clearInterval(timer);
  },1000);
};

vol.oninput=calc;
leaf.oninput=calc;
teaSel.onchange=calc;
calc();
</script>

</body>
</html>
